# day3

## Java语言的特性

- 简单性（相对而言）：相对于c++来说，更简单了。Java中程序员不需要操作复杂的指针（指针操作很复杂），Java把指针屏蔽了，所以Java在内存操控方面不如c++（指针可以实现对内存的直接操控）

  - 在Java语言中真正操控内存的是：JVM--Java Virtual Machine（Java虚拟机）	所有的Java程序都是运行在虚拟机当中的。	而Java虚拟机执行过程中再去操作内存。	对于c或者c++程序员都是可以直接通过操作指针来操作内存，但是要求程序员的技术精湛。c语言、c++语言更有驾驭感。	Java语言屏蔽了指针概念，程序员不能直接操作指针，或者说程序员不能直接操作内存。这种方式有优点也有缺点：优点是：不容易导致内存泄漏。（简单了）缺点是：效率问题，包括驾驭感比较差。打个比方

  飞机航行：

  ​	如果是c语言，表示程序员是飞机驾驶员。（技术精湛，有驾驭感）

  ​	如果是JAVA语言，表示程序员是飞机上的乘客。

  ​	Java语言底层是c++，所以JVM是用c++语言写好的一个虚拟的电脑。	JVM在哪：安装了JDK之后，JVM就代	表安装好了。

  - 内存是什么？	

    对于计算机来说，最重要的几个部件：

    CPU--中央处理器，相当于人类的大脑，复制发送并执行指令，是整个计算机的指挥官。CPU负责计算，运算，计算时的数据就临时存储在内存。

    内存--程序运行过程中临时数据的存储空间。断电之后或者关机之后内存中的数据就消失了。	

    硬盘--持久化设备，硬盘上的数据不会因断电而消失。

    主板：相当于人类的躯干，是一个载体：

    CPU、内存条、硬盘等主要的部件都是放在主板上的，主板上有很多线，将以上的部件链接起来。

    ······

- 面向对象：

  Java是完全面向对象的。面向对象更容易让人理解，人类通常是以对象的方式认识世界的。采用的面向对象的方式，可以让复杂问题简单化。

- 健壮性：

  主要是因为Java中有一种机制：

  ​	**自动**垃圾回收机制（GC机制--Garbage collection mechanism）。	效率方面也有缺陷，不能及时的回收（攒够了才回收）

  Java语言是健壮的，相对于c语言来说，c语言没有Java健壮。Java不容易导致内存的泄漏。c++或者c语言使用不当是很容易导致内存泄漏的。

  JVM负责调度GC机制。程序员不需要干涉。

- 多线程

  Java完美支持多线程并发。（商品准点秒杀？）

- **可移植性/跨平台**

  Java语言只要编写一次，可以做到到处运行。例如：java程序编写完成之后，可以运行在Windows操作系统上，不需要做任何改动可以直接运行在Linux操作系统上，同样也可以做到运行到MAC OS（Operating System）上。

  一次编写，到处运行。（平台改变了，程序不需要改）

  - Java程序的执行机制：

    源文件-->编译器（compiler）-->字节码（byte code	字节码是一种**中间码**（class文件中是十六进制），它比机器码（二进制码）更加抽象）-->通过c++语言编写的虚拟机（针对不同的操作系统有不同的虚拟机）在系统里生成针对这个系统的机器码-->通过机器码运行程序

    Java程序并没有直接和操作系统打交道，而是跟虚拟机打交道，虚拟机再跟系统打交道，操作系统和硬件打交道。不同的系统里的Java虚拟机是不同的--JVM是安装JDK时自带的，所以不同操作系统就有不同版本的JDK。

    ***经典的一句话：Java虚拟机屏蔽了操作系统之间的差异。***

  JVM这种机制实现了跨平台，优点缺点？

  ​	优点：一次编写到处运行，可以跨平台

  ​	缺点：麻烦。对于运行Java程序来说，必须先有一个JVM。打个比方：就像你要在网页上看视频要先安装一个flash一样。

  Java语言可以编写病毒吗？

  ​	可以。但是很难让用户中毒。中毒的一般都是java程序员。所以很少有人编写Java病毒脚本。

## JDK、JRE、JVM三者之间的关系

JDK（Java Developer's Kit ）：Java开发工具箱

JRE（Java Runtime Environment）：Java运行环境

JVM（Java Virtual Machine）：Java虚拟机

JDK包括JRE，JRE包括JVM

JVM是不能独立安装的。

JRE和JDK都是可以单独安装的（都有相应的安装包）

安装JDK的时候：JRE就自动安装了，同是JRE内部的JVM也就自动安装了

装置JRE的时候：JVM也自动安装了。

问题：

1. 假设你再软件公司开发了一个新的软件，现在要去客户那边吧项目部署一下，把项目跑起来，你需要安装JDK吗？

   只需要安装JRE，JRE体积很小，安装便捷快速。（只需安装运行环境）

2. 为什么安装JDK的时候回自带一个JRE？

   Java程序员开发完之后需要测试程序，需要运行程序，所以安装JDK的时候需要顺带JRE。

## 目前为止的术语总结

- Java体系技术被划分成三大块：

  JavaSE：标准版			standard edition

  JavaEE：企业版			enterprise edition

  JavaME：微型版			micro edition

- 安装JDK之后：

  JDK：Java开发工具箱

  JRE：Java运行环境

  JVM：Java虚拟机

## 初步了解Java的加载与执行的理解（理论比较重要）

- Java程序从编写到最终运行经历了哪些过程？

  Java程序非常重要的两个阶段：

  编译阶段

  运行阶段

  - 注意：Java程序员直接编写的Java代码（普通文本）是无法直接被JVM识别的。Java程序员编写的Java代码这种普通文本必须经过一个编译，将这个普通文本代码变成“字节码”，JVM能够识别字节码。Java代码这种普通文本变成字节码的过程被称为编译。

    Java代码这种普通文本被称为：Java源代码，简称源码，src。（你编写的是源代码）

    源代码不能直接执行，需要进行编译，生成源代码对应的“字节码”，字节码再去被JVM识别。

  - 编译阶段和运行阶段可以在不同的操作系统上完成吗？

    在windows上编译，编译之后生成了“字节码”把字节码放到Linux上运行，是完全可以的。可以做到一次编写到处运行。（字节码是一种中间码即通用码，是可以被不同的系统的虚拟机识别的。）
    
  - Java源代码一旦编译之后，源代码可以删除吗？只留下字节码可以执行吗？
  
    完全可以执行，因为源代码不参与程序的执行过程。参与程序执行过程的是字节码。但是最好不要删除源代码。因为有可能执行结果不是你想要的，你可以重新打开源代码进行修改，然后重新编译生成新的字节码，再重新执行，这样会有新的执行效果。
  
  - 放源代码的文件拓展名必须是：xxx.java
  
    并且需要注意的：编译生成的字节码文件拓展名是：xxx.class
  
    .java文件就是源文件，在这个源文件编写源代码
  
    .class文件就是字节码文件,这个文件就是编译源代码得到的
  
    另外需要注意的是：一个java源文件是可以编译生成多个class文件的。
  
    最终运行的是class文件（即字节码文件）
  
  - 字节码文件是二进制文件吗？
  
    字节码文件不是二进制文件。如果是二进制的话就不需要JVM了，因为操作系统可以直接执行二进制-操作系统可以识别二进制。（里面存放了许多16进制的字节--也称为字节码）
  
  Java程序从开发到最终运行经历了什么？
  
  编译期：
  
  第一步：在硬盘的某一个位置（随意），新建一个xxx.java文件
  
  第二步：使用记事本或者其它文本编辑器例如EditPlus打开xxx.java文件
  
  第三步：在xxx.java文件中编写“符合Java语法规则的源代码”--不符合规则就无法通过编译，这是一种约定
  
  第四步：保存（一定要将xxx.java文件保存一下）
  
  第五步：使用编译器javac（JDK安装后自带）对xxx.java文件进行编译
  
  第六部：xxx.java文件中编写的源代码是符合Java语法规则的，编译就会通过，如果不符合规则，编译器就会报错，如果报错，xxx.class 文件不会生成。只有编译通过了才会生成class字节码文件。而且一个Java源文件是可以生成多个class文件的。（编译实质上式检查语法（如果检查通过）生成字节码文件）
  
  运行期：（可以在Windows上，也可以在其它的OS上）
  
  第七步：如果是在Linux上运行，需要将在Windows上编译生成的class文件拷贝过去，不需要拷贝源代码，真正运行的是字节码。（源代码也不要删除，有用）
  
  第八步：使用JDk自带的一个命令/工具：java（复制运行的命令\工具）执行字节码
  
  第九步：往下的步骤就全部交给JVM，不需要程序员干涉了。JVM会将字节码文件装载进去，然后JVM对字节码进行解释成机器码（即二进制码），
  
  第十步：JVM会将生成的机器码交给OS，OS会执行机器码和硬件进行干涉。
  
  - 在以上的过程中，需要使用两个非常重要的命令。
  
    javac命令：负责编译
  
    java命令：负责运行
  
  - 小插曲：xxx.java源文件经过编译之后生成了A.class、B.class、C.class等字节码文件，则其中A、B、C都是类，A、B、C分别是这些类的名字。A类、B类、C类······，一个源文件可以有很多的类。
  
  源文件中编写的代码叫做源代码。
  
  在字节码文件需要通过类加载器放到虚拟机上--找不到需要的那个类就会报错。
  
  - 以上是一个复杂的过程，缩减一下，程序员需要干啥？
  
    新建Java文件
  
    打开文件
  
    保存
  
    javac命令编译
  
    Java命令运行
  
    编写-编译-运行

- 对以上内容的个人理解（java程序从编写到执行）

  首先新建一个文件（位置随意），文件需要.java的后缀，然后用文本编辑器打开.java文件（即是源文件）（可以选定一种文本编辑器，以后默认用来打开.java这种后缀文件），接着开始敲源代码（在源文件中编写的代码就称作原代码），原代码必须要符合语法规则，不然编译器无法通过。假设源代码正确地编写完成并保存了。就可以进入编译阶段。在DOS命令窗口敲打javac命令编译对应的源文件，会生成一个或多个字节码文件（.class后缀	其中.class后缀前的东西就是一个类名，一个Java源文件可以有多个类名）。编译成功之后进入运行阶段。在DOS命令窗口敲打java命令开始运行程序。类加载器会去硬件上寻找类，然后装载到虚拟机上，虚拟机再把类（这个字节码文件）解释成OS可以识别操作的二进制代码（即机器码），OS再通过这些二进制代码去和底层的硬件进行交互。

## 编写Java中的第一个Java程序：HelloWorld（问世）

这个程序不需要理解，目前不讲解程序为什么这么写，主要是为了测试java环境是否能用。

第一步：安装文本编辑器（EditPlus）

第二步：安装JDK（下载安装）JDK13	下载在oracle官网下载

JDK13安装的时候内置了一个JRE，独立于JDK之外的JRE没有生成。

对于Java13来说，如果你希望生成一个独立于JDK之外的JRE的话，需要执行特殊的命令（这里先不说，后面用到再说）

JDK的bin目录下，有javac.exe和java.exe	说明有运行环境

注意：JDK8安装的时候，不仅内置了一个JRE，而且还在JDK目录之外独立的生成一个单独的JRE。（以前低版本的时候，JRE实际上有两个，一个内置在JDK内，一个独立于JDK之外）

第三步：写源代码

第四步：编译

第五步：运行